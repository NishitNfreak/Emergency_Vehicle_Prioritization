Function Main
    Declare Integer distance, sirenOn, Time, n, i
    Declare String signalDirection, registered
    Declare Boolean running

    Assign running = true
    Assign n = 4
    Assign i = 0
    Declare String Array A[n]

    Assign A[0] = "N"
    Assign A[1] = "S"
    Assign A[2] = "E"
    Assign A[3] = "W"
    Output "=== SMART EMERGENCY VEHICLE PRIORITY SYSTEM ==="
    Output "Sensors: RFID/IR modules detect siren & distance automatically."
    While running = true
        Output "Enter detected vehicle direction (N/E/S/W or X to exit): "
        Input signalDirection
        If signalDirection=="X" || signalDirection=="x"
            Output "=== INITIATING NORMAL TRAFFIC CYCLE ==="
            For i = 0 to 3
                Output "Direction "&A[i]&" → GREEN"
                Output "Other directions → RED"
                Output "(Signal ON for 60 seconds...)"
            End
            Output "🛑 System shutting down safely."
            Assign running = false
        Else
            Output "Emergency message recieved ? (Yes/No)"
            Input registered
            Output "Enter distance from signal (in meters): "
            Input distance
            Output "Siren ON? (1 for Yes / 0 for No): "
            Input sirenOn
            If (sirenOn=1) || (registered=="Yes")||(registered=="YES")
                Output " EMERGENCY VEHICLE DETECTED FROM " &signalDirection
                Output "Setting signal to GREEN " &signalDirection
                Output "ALL OTHER DIRECTIONS SET TO RED"
                Output "STIMULATING GREEN LIGHT FOR 1 MINUTE"
                For Time = 60 to 0 decreasing
                    Output ""&Time
                End
                Output "Emergency cleared. Restoring normal cycle"
                For i = 0 to 3
                    If A[i] != signalDirection
                        Output "Direction "&A[i]&" → GREEN"
                        Output "Other directions → RED"
                        Output "(Signal ON for 60 seconds...)"
                    End
                End
            Else
                Output "=== INITIATING NORMAL TRAFFIC CYCLE ==="
                For i = 0 to 3
                    Output "Direction "&A[i]&" → GREEN"
                    Output "Other directions → RED"
                    Output "(Signal ON for 60 seconds...)"
                End
            End
        End
    End
End

Function EmergencyMode
    Return Real 
End

Function NormalCycle
    Declare Boolean 0

    Return Boolean 0
End
